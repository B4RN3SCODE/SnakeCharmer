/*
 * Tracking plugin for Snake Charmer
 * @author		Tyler J Barnes
 * @contact		b4rn3scode@gmail.com
 */
"use strict";var SCTracker=function(){this._version="1.1.1",this._pluginName="SCTracker",this._pluginId="SC57738",this._testData={TestId:0,PageId:0,MVElmId:0,MVElmName:""},this._dataSet=!1,this._converted=!1,this._eventName="hackyevent",this._eventListenerSet=!1,this._convertUri="//sc.conversionvoodoo.com/include/convert.php",this._cookieName="sctrackerec",this._cookieValue={},this.load=function(e){return window.SC&&"undefined"!=typeof window.SC?void(e&&($(document).trigger(e),window.SC.removePluginLoadedEvent(this._pluginName))):void console.error("SCBCMain : Cannot find SC... idk how this is even running then.~!?!~.")},this.getCookieVal=function(){var e=window.SC.getCookie(this._cookieName);this._cookieValue=e&&e.length>0?JSON.parse(e):{}},this.inCookie=function(e){return this._cookieValue.eventId&&"undefined"!=typeof this._cookieValue.eventId&&this._cookieValue.eventId==e},this.updateCookie=function(e,t){this.getCookieVal(),(!e||"undefined"==typeof e||parseInt(e)<1)&&(e=this._cookieValue.eventId);var i=!1;if(this.inCookie(e))for(var o in t)this._cookieValue[o]!=t[o]&&(this._cookieValue[o]=t[o],i=!0);else{var n={eventId:e};for(var o in t)n[o]=t[o];this._cookieValue=n,i=!0}i&&window.SC.setCookie(this._cookieName,JSON.stringify(this._cookieValue),2)},this.setTestData=function(e){this._dataSet=!1;for(var t in e)t in this._testData&&(this._testData[t]=e[t]);this._dataSet=!0,this._eventListenerSet&&($(document).trigger(this._eventName),this._eventListenerSet=!1,$(document).off(this._eventName))},this.convert=function(e,t,i){if(this.getCookieVal(),!this._converted){e=e===!0,t=t&&"undefined"!=typeof t&&t>0&&!isNaN(parseFloat(t))?parseFloat(t):0,(!i||"undefined"==typeof i||i.length<1)&&(i=[]);var o="?license="+window.SC.getLicense()+"&testid="+this._testData.TestId;if(e&&(o+="&super=true"),t>0&&(o+="&leadval="+t.toString()),i.length<1)this._cookieValue&&this._cookieValue.eventId&&"undefined"!=typeof this._cookieValue.eventId&&this._cookieValue.promoType&&"undefined"!=typeof this._cookieValue.promoType&&this._cookieValue.promoType.length>0&&i.push({promoType:this._cookieValue.promoType});else{for(var n=!1,s=0;s<i.length;s++)if(i[s].promoType&&"undefined"!=typeof i[s].promoType&&i[s].promoType.length>0){n=!0;break}n||this._cookieValue&&this._cookieValue.eventId&&"undefined"!=typeof this._cookieValue.eventId&&this._cookieValue.promoType&&"undefined"!=typeof this._cookieValue.promoType&&this._cookieValue.promoType.length>0&&i.push({promoType:this._cookieValue.promoType})}i.length>0&&(o+="&othvars="+encodeURIComponent(JSON.stringify(i))),window.SC.addScript(document.location.protocol+this._convertUri+o,!0),this._converted=!0}},this.setUpConvert=function(e,t,i){if(!this._converted)if((!i||"undefined"==typeof i||i.length<1)&&(i=[]),this._dataSet)this.convert(e,t,i);else{this._eventListenerSet=!0;var o=this;$(document).on(this._eventName,function(){o.convert(e,t,i)})}}};window.SC.addPlugin(new SCTracker);
